{"ast":null,"code":"import React,{useState}from\"react\";import StyleSheet from\"react-native-web/dist/exports/StyleSheet\";import TextInput from\"react-native-web/dist/exports/TextInput\";import Button from\"react-native-web/dist/exports/Button\";import ScrollView from\"react-native-web/dist/exports/ScrollView\";import View from\"react-native-web/dist/exports/View\";import Text from\"react-native-web/dist/exports/Text\";import useColorScheme from\"react-native-web/dist/exports/useColorScheme\";import Platform from\"react-native-web/dist/exports/Platform\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ActivityIndicator=true?()=>null:require(\"react-native\").ActivityIndicator;const VStack=({children,style})=>_jsx(View,{style:[{flexDirection:\"column\",alignItems:\"stretch\"},style],children:children});export default function App(){const colorScheme=useColorScheme();const isDark=colorScheme===\"dark\";const[input,setInput]=useState(\"\");const[converted,setConverted]=useState(\"\");const[loading,setLoading]=useState(false);const handleConvert=async()=>{if(!input.trim())return;setLoading(true);setConverted(\"\");try{const res=await fetch(\"https://us-central1-transhougen.cloudfunctions.net/dialectConverter\",{method:\"POST\",headers:{\"Content-Type\":\"application/json\"},body:JSON.stringify({text:input})});const data=await res.json();setConverted(data.result??\"\");}catch{setConverted(\"エラーが発生しました\");}finally{setLoading(false);}};return _jsx(View,{style:[styles.container,{backgroundColor:isDark?\"#181818\":\"#ffffff\"}],children:_jsxs(VStack,{style:styles.vStack,children:[_jsx(Text,{style:[styles.title,{color:isDark?\"#fff\":\"#222\"}],children:\"TransHougen\"}),_jsx(TextInput,{style:[styles.input,{backgroundColor:isDark?\"#222\":\"#eee\",color:isDark?\"#fff\":\"#000\"}],placeholder:\"\\u65B9\\u8A00\\u3092\\u5165\\u529B\",placeholderTextColor:isDark?\"#aaa\":\"#888\",value:input,onChangeText:setInput,editable:!loading}),_jsx(Button,{title:loading?\"変換中…\":\"変換\",onPress:handleConvert,disabled:loading||!input.trim()}),loading&&_jsx(ActivityIndicator,{style:{marginTop:16},size:\"large\"}),_jsx(ScrollView,{style:styles.resultContainer,contentContainerStyle:{padding:12},children:_jsx(Text,{style:{color:isDark?\"#fff\":\"#222\",fontSize:18},children:converted})})]})});}const styles=StyleSheet.create({container:{flex:1,padding:16},vStack:{flex:1},title:{fontSize:24,fontWeight:\"bold\",marginBottom:16,textAlign:\"center\"},input:{height:40,borderColor:\"#888\",borderWidth:1,borderRadius:4,paddingHorizontal:8,marginBottom:12},resultContainer:{flex:1,marginTop:16}});","map":{"version":3,"names":["React","useState","StyleSheet","TextInput","Button","ScrollView","View","Text","useColorScheme","Platform","jsx","_jsx","jsxs","_jsxs","ActivityIndicator","require","VStack","children","style","flexDirection","alignItems","App","colorScheme","isDark","input","setInput","converted","setConverted","loading","setLoading","handleConvert","trim","res","fetch","method","headers","body","JSON","stringify","text","data","json","result","styles","container","backgroundColor","vStack","title","color","placeholder","placeholderTextColor","value","onChangeText","editable","onPress","disabled","marginTop","size","resultContainer","contentContainerStyle","padding","fontSize","create","flex","fontWeight","marginBottom","textAlign","height","borderColor","borderWidth","borderRadius","paddingHorizontal"],"sources":["/Users/murakamikazuo/Dev/transhougen-rn/App.tsx"],"sourcesContent":["// App.tsx\nimport React, { useState } from \"react\";\nimport {\n  StyleSheet,\n  TextInput,\n  Button,\n  ScrollView,\n  View,\n  Text,\n  useColorScheme,\n  Platform,\n} from \"react-native\";\n\n// Web ではダミー、それ以外はネイティブの ActivityIndicator を使う\nconst ActivityIndicator =\n  Platform.OS === \"web\"\n    ? () => null\n    : require(\"react-native\").ActivityIndicator;\n\nconst VStack: React.FC<{ children: React.ReactNode; style?: any }> = ({\n  children,\n  style,\n}) => (\n  <View style={[{ flexDirection: \"column\", alignItems: \"stretch\" }, style]}>\n    {children}\n  </View>\n);\n\nexport default function App() {\n  const colorScheme = useColorScheme();\n  const isDark = colorScheme === \"dark\";\n\n  const [input, setInput] = useState(\"\");\n  const [converted, setConverted] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n\n  const handleConvert = async () => {\n    if (!input.trim()) return;\n    setLoading(true);\n    setConverted(\"\");\n    try {\n      const res = await fetch(\n        \"https://us-central1-transhougen.cloudfunctions.net/dialectConverter\",\n        {\n          method: \"POST\",\n          headers: { \"Content-Type\": \"application/json\" },\n          body: JSON.stringify({ text: input }),\n        }\n      );\n      const data = await res.json();\n      setConverted(data.result ?? \"\");\n    } catch {\n      setConverted(\"エラーが発生しました\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <View\n      style={[\n        styles.container,\n        { backgroundColor: isDark ? \"#181818\" : \"#ffffff\" },\n      ]}\n    >\n      <VStack style={styles.vStack}>\n        <Text style={[styles.title, { color: isDark ? \"#fff\" : \"#222\" }]}>\n          TransHougen\n        </Text>\n        <TextInput\n          style={[\n            styles.input,\n            {\n              backgroundColor: isDark ? \"#222\" : \"#eee\",\n              color: isDark ? \"#fff\" : \"#000\",\n            },\n          ]}\n          placeholder=\"方言を入力\"\n          placeholderTextColor={isDark ? \"#aaa\" : \"#888\"}\n          value={input}\n          onChangeText={setInput}\n          editable={!loading}\n        />\n        <Button\n          title={loading ? \"変換中…\" : \"変換\"}\n          onPress={handleConvert}\n          disabled={loading || !input.trim()}\n        />\n        {loading && <ActivityIndicator style={{ marginTop: 16 }} size=\"large\" />}\n        <ScrollView\n          style={styles.resultContainer}\n          contentContainerStyle={{ padding: 12 }}\n        >\n          <Text style={{ color: isDark ? \"#fff\" : \"#222\", fontSize: 18 }}>\n            {converted}\n          </Text>\n        </ScrollView>\n      </VStack>\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  container: { flex: 1, padding: 16 },\n  vStack: { flex: 1 },\n  title: { fontSize: 24, fontWeight: \"bold\", marginBottom: 16, textAlign: \"center\" },\n  input: {\n    height: 40,\n    borderColor: \"#888\",\n    borderWidth: 1,\n    borderRadius: 4,\n    paddingHorizontal: 8,\n    marginBottom: 12,\n  },\n  resultContainer: { flex: 1, marginTop: 16 },\n});\n\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}